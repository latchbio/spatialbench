{
    "id": "spatial_contiguity_celltypes_gt",
    "task": "Perform clustering on this spatial transcriptomics dataset. Calculate spatial contiguity by measuring fragmentation: for each cluster, count connected components using spatial coordinates (cells within distance_threshold=50 are considered connected using scipy.sparse.csgraph.connected_components on distance matrix). Calculate average fragmentation as weighted mean of (n_components / n_cells) across all clusters. Return a JSON object with fields: avg_fragmentation (float between 0-1, lower is better), total_components (integer, sum of components across all clusters), n_clusters (integer).",
    "data_node": "latch://38438.account/curio_ovary/adata_after_pca.h5ad",
    "grader": {
      "type": "numeric_tolerance",
      "config": {
        "ground_truth": {
          "avg_fragmentation": 0.161
        },
        "tolerances": {
          "avg_fragmentation": {
            "type": "absolute",
            "value": 0.06,
            "description": "The analysis measured how spatially contiguous each cluster is by counting connected components. Lower fragmentation indicates better spatial contiguity."
          }
        }
      }
    }
  }
